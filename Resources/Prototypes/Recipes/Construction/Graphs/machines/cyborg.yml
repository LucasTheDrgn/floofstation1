- type: constructionGraph
  id: Cyborg
  start: start
  graph:
  - node: start
    entity: CyborgEndoskeleton
    edges:

    # empty the parts via prying
    - to: start
      conditions:
      - !type:ContainerNotEmpty
        container: part-container
      steps:
      - tool: Prying
        doAfter: 0.5
        completed:
          - !type:EmptyAllContainers

    # swap between quad and default
    - to: quadborgstart
      conditions:
      - !type:ContainerEmpty
        container: part-container
      steps:
      - tool: Screwing
        doAfter: 2

    - to: cyborg
      steps:
      - assemblyId: generic
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5

    - to: engineer
      steps:
      - assemblyId: engineer
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5

    - to: janitor
      steps:
      - assemblyId: janitor
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5

    - to: medical
      steps:
      - assemblyId: medical
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5

    - to: mining
      steps:
      - assemblyId: mining
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5

    - to: service
      steps:
      - assemblyId: service
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5

  - node: cyborg
    entity: BorgChassisGeneric
    edges:

    # Floof: Deconstruct borgs without brains
    - to: start
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers
    
  - node: engineer
    entity: BorgChassisEngineer
    edges:

    # Floof: Deconstruct borgs without brains
    - to: start
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers

  - node: janitor
    entity: BorgChassisJanitor
    edges:

    # Floof: Deconstruct borgs without brains
    - to: start
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers

  - node: mining
    entity: BorgChassisMining
    edges:

    # Floof: Deconstruct borgs without brains
    - to: start
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers

  - node: medical
    entity: BorgChassisMedical
    edges:

    # Floof: Deconstruct borgs without brains
    - to: start
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers

  - node: service
    entity: BorgChassisService
    edges:

    # Floof: Deconstruct borgs without brains
    - to: start
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers

  - node: syndicateassault
    entity: BorgChassisSyndicateAssault

  - node: syndicatemedical
    entity: BorgChassisSyndicateMedical

  - node: syndicatesaboteur
    entity: BorgChassisSyndicateSaboteur

  # Floof: Begin quadborgs

  - node: quadborgstart
    entity: Quadborgendoskeleton
    edges:

    # empty the parts via prying
    - to: quadborgstart
      conditions:
      - !type:ContainerNotEmpty
        container: part-container
      steps:
      - tool: Prying
        doAfter: 0.5
        completed:
          - !type:EmptyAllContainers

    # swap between quad and default
    - to: start
      conditions:
      - !type:ContainerEmpty
        container: part-container
      steps:
      - tool: Screwing
        doAfter: 2

    - to: Quadborg
      steps:
      - assemblyId: quadborg
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5
        
    - to: Quadsalv
      steps:
      - assemblyId: quadsalv
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5
        
    - to: Quadserv
      steps:
      - assemblyId: quadserv
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5
    
    - to: Quadmed
      steps:
      - assemblyId: quadmed
        guideString: borg-construction-guide-string

      - material: Cable
        amount: 1
        doAfter: 1
        store: part-container

      - component: Flash
        name: flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - component: Flash
        name: second flash
        store: part-container
        icon:
          sprite: Objects/Weapons/Melee/flash.rsi
          state: flash

      - tool: Screwing
        doAfter: 0.5
        
  - node: Quadborg
    entity: BorgChassisQuad
    edges:

    # empty the parts via prying
    - to: quadborgstart
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers
    
  - node: Quadsalv
    entity: BorgChassisQuadsalv
    edges:

    # empty the parts via prying
    - to: quadborgstart
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers
    
  - node: Quadserv
    entity: BorgChassisQuadserv
    edges:

    # empty the parts via prying
    - to: quadborgstart
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers
    
  - node: Quadmed
    entity: BorgChassisQuadmed
    edges:

    # empty the parts via prying
    - to: quadborgstart
      conditions:
      - !type:ContainerEmpty
        container: borg_brain
      steps:
      - tool: Prying
        doAfter: 3
        completed:
          - !type:EmptyAllContainers
